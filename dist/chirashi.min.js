/*!
 * Chirashi.js v5.0.0
 * (c) 2016 Alex Toudic
 * Released under the MIT License.
 */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.Chirashi=t()}(this,function(){"use strict";function n(n,t){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!n)return[];if(n instanceof Array||n instanceof window.NodeList||n instanceof window.HTMLCollection||(n=[n]),e)for(var r=-1,i=n.length;++r<i;)t(n[r],r);else for(var o=n.length;o--;)t(n[o],o);return n}function t(n){return n instanceof window.HTMLElement||n===window||n===document||n instanceof window.SVGElement||n instanceof window.Text}function e(r){if(r&&r["_chrsh-valid"])return r;var i=void 0;return"string"==typeof r?i=[].concat(an(document.querySelectorAll(r))):r instanceof Array?!function(){var t=[];n(r,function(n){t.push.apply(t,an(e(n)))}),i=t}():i=r instanceof window.NodeList||r instanceof window.HTMLCollection?[].concat(an(r)):t(r)?[r]:[],i.chrshPush=function(n){return this.push.apply(this,an(e(n))),this["_chrsh-valid"]=!0,this},n(sn,function(n){i[n]=function(){return this["_chrsh-valid"]=!1,Array.prototype[n].apply(this,arguments)}}),i["_chrsh-valid"]=!0,i}function r(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n(e(t),r,i)}function i(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("object"===("undefined"==typeof t?"undefined":cn(t)))return n(Object.keys(t),function(n){return e(n,t[n])},r),t}function o(n){return"string"==typeof n?document.querySelector(n):n instanceof Array?o(n[0]):t(n)&&n}function u(n,t){var e="string"==typeof n?n.split(/[,\s]+/g):n;return t?e.map(function(n){return""+t+n}):e}function c(n,t,e){return e=u(e),r(n,function(n){var r;n.classList&&(r=n.classList)[t].apply(r,an(e))})}function f(n,t){return c(n,"add",t)}function a(n,t){return r(n,function(n){return Object.assign(n,t)})}function s(n,t){return r(n,function(n){i(t,function(t,e){n.setAttribute(0===t.indexOf("data")?t:"data-"+t,e)})})}function l(n,t){var e={},r={};return i(t,function(n,t){"string"==typeof t||t instanceof Array||(t=JSON.stringify(t)),0===n.indexOf("data")?r[n]=t:e[n]=t}),a(n,e),s(n,r)}function d(t){var e={},r=[];if(t.indexOf("<")===-1){var i=null;n(t.match(/[#\.\[]?[a-zA-Z0-9-_+]+(=["'a-zA-Z0-9-_+\.]+\]?)?/g),function(n){0===n.indexOf(".")?r.push(n.slice(1)):0===n.indexOf("#")?e.id=n.slice(1):0===n.indexOf("[")?(n=n.replace(/[\[\]]/g,"").split("="),e[n[0]]=n.length>1?n[1].slice(1,-1):""):i=n}),null===i&&(i="div"),t="<"+i+"></"+i+">"}var o=document.createElement("div");o.innerHTML=t;var u=o.firstChild;return l(u,e),f(u,r),u}function h(e,r){if(e=o(e),e&&e.appendChild)return n(r,function(n,r){"string"==typeof n?e.appendChild(d(n)):t(n)&&e.appendChild(n)},!0),e}function v(n,t){return n=o(n),n?n[t]:null}function p(n){var t=v(n,"children");return!!t&&[].concat(an(t))}function y(n){return n=o(n),!!n&&n.cloneNode(!0)}function g(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;return n=o(n),!(!n||("string"==typeof e?n.matches(e):n===e))&&(("string"==typeof t?n.matches(t):n===t)?n:!!n.parentNode&&g(n.parentNode,t,e))}function m(n,t){return e(n).filter(function(n){return"string"==typeof t&&"matches"in n&&n.matches(t)||n===t})}function w(n,t){var e=[];return r(n,function(n){"querySelectorAll"in n&&e.push.apply(e,an(n.querySelectorAll(t)))}),e}function b(n,t){return n=o(n),n&&"querySelector"in n?n.querySelector(t):null}function x(n,t){return n.getAttribute(0===t.indexOf("data")?t:"data-"+t)}function S(n,t){return 0===t.indexOf("data")?x(n,t):v(n,t)}function A(n){return v(n,"innerHTML")}function L(n,t){if(n=o(n),n&&n.classList){t=u(t);for(var e=t.length,r=void 0;e--&&(r=n.classList.contains(t[e])););return r}}function O(n){if(n=o(n),!n)return null;for(var t=n,e=0;t=t.previousElementSibling;)++e;return e}function C(e,r){if(e=o(e),e&&"parentNode"in e){var i=e.parentNode;return n(r,function(n,r){"string"==typeof n&&(n=d(n)),t(n)&&i.insertBefore(n,e.nextElementSibling)},!0),e}}function k(e,r){if(e=o(e),e&&"parentNode"in e){var i=e.parentNode;return n(r,function(n,r){"string"==typeof n&&(n=d(n)),t(n)&&i.insertBefore(n,e)},!0),e}}function E(n){return v(n,"nextElementSibling")}function M(n){return v(n,"parentNode")}function j(n){return v(n,"previousElementSibling")}function z(n){return r(n,function(n){n.parentNode&&n.parentNode.removeChild(n)})}function H(t,e,i){return r(t,function(t){t[e]&&n(i,function(n){t[e](n)})})}function N(n,t){return H(n,"removeAttribute",u(t))}function _(n,t){return c(n,"remove",t)}function P(n,t){return H(n,"removeAttribute",u(t,"data-"))}function T(n,t){return a(n,{innerHTML:t})}function q(t,e){if(!(e instanceof Array||"string"==typeof e))return r(t,function(t){t.classList&&i(e,function(e,r){n(u(e),function(n){t.classList.toggle(n,r(t))})})});var o=function(){var i=u(e);return{v:r(t,function(t){t.classList&&n(i,function(n){t.classList.toggle(n)})})}}();return"object"===("undefined"==typeof o?"undefined":cn(o))?o.v:void 0}function I(t,e,o){return e+="EventListener",r(t,function(t){i(o,function(r,i){n(u(r),function(n){return t[e](n,i)})})})}function B(n,t){return n=I(n,"add",t),{off:function(e){I(e||n,"remove",t)}}}function D(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.body,r={};i(t,function(t,i){r[t]=function(t){var r=g(t.target,n,e);r&&i(t,r)}});var o=B(e,r);return{unbind:o.off}}function R(n,t){var e=void 0,r={};return i(t,function(n,t){r[n]=function(n){t(n),e.off()}}),e=B(n,r),{cancel:e.off}}function W(n){return R(document,{DOMContentLoaded:n})}function F(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t=e(t),t.length)return i=fn({},i,ln),n(u(r),function(e){e=new window.CustomEvent(e,i),n(t,function(n){return n.dispatchEvent(e)})}),t}function Z(n,t){return i(t,function(n,e){dn.indexOf(n)===-1&&"number"==typeof e&&(t[n]+="px")}),r(n,function(n){n.style&&Object.assign(n.style,t)})}function G(t,e){e=u(e);var r={};return n(e,function(n){return r[n]=""}),Z(t,r)}function J(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return v(n,t?"clientHeight":"offsetHeight")}function V(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return v(n,t?"clientWidth":"offsetWidth")}function X(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{width:V(n,t),height:J(n,t)}}function Y(n,t){if(n=o(n)){var e=window.getComputedStyle(n)[t];return e.indexOf("px")===-1?e:parseFloat(e)}}function K(n){return Z(n,{visibility:"hidden"})}function Q(n){if(n=o(n),!n)return!1;var t=n.getBoundingClientRect();return{top:t.top+window.scrollY,left:t.left+window.scrollX}}function U(n){return n=o(n),!!n&&{top:n.offsetTop,left:n.offsetLeft}}function $(n){return n=o(n),!!n&&n.getBoundingClientRect()}function nn(n,t){return Z(n,{height:t})}function tn(n,t,e){return Z(n,{width:t,height:e})}function en(n,t){return Z(n,{width:t})}function rn(n){return Z(n,{visibility:"visible"})}function on(t){var e="x"in t?t.x:0,r="y"in t?t.y:0,i="z"in t?t.z:0,o=void 0,u=void 0,c=void 0;"scale"in t?"object"===cn(t.scale)?(o="x"in t.scale?t.scale.x:1,u="y"in t.scale?t.scale.y:1,c="z"in t.scale?t.scale.z:1):(o=u=t.scale,c=1):o=u=c=1;var f=void 0,a=void 0,s=void 0;"rotate"in t?"object"===cn(t.rotate)?(f="x"in t.rotate?t.rotate.x:0,a="y"in t.rotate?t.rotate.y:0,s="z"in t.rotate?t.rotate.z:0):(f=a=0,s=t.rotate):f=a=s=0;var l=void 0,d=void 0;"skew"in t?"object"===cn(t.skew)?(l="x"in t.skew?t.skew.x:0,d="y"in t.skew?t.skew.y:0):l=d=t.skew:l=d=0;var h=Math.cos(f),v=Math.sin(f),p=Math.cos(a),y=Math.sin(a),g=Math.cos(s),m=Math.sin(s),w=Math.tan(l),b=Math.tan(d),x=[o*p*g,m+b,-y,0,-m+w,u*h*g,v,0,y,-v,c*h*p,0,e,r,i,1];return n(x,function(n,t){x[t]=+n.toFixed(2)}),x}function un(n,t){Z(n,{transform:"matrix3d("+on(t).join(",")+")"})}var cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},fn=(function(){function n(n){this.value=n}function t(t){function e(n,t){return new Promise(function(e,i){var c={key:n,arg:t,resolve:e,reject:i,next:null};u?u=u.next=c:(o=u=c,r(n,t))})}function r(e,o){try{var u=t[e](o),c=u.value;c instanceof n?Promise.resolve(c.value).then(function(n){r("next",n)},function(n){r("throw",n)}):i(u.done?"return":"normal",u.value)}catch(f){i("throw",f)}}function i(n,t){switch(n){case"return":o.resolve({value:t,done:!0});break;case"throw":o.reject(t);break;default:o.resolve({value:t,done:!1})}o=o.next,o?r(o.key,o.arg):u=null}var o,u;this._invoke=e,"function"!=typeof t["return"]&&(this["return"]=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(n){return this._invoke("next",n)},t.prototype["throw"]=function(n){return this._invoke("throw",n)},t.prototype["return"]=function(n){return this._invoke("return",n)},{wrap:function(n){return function(){return new t(n.apply(this,arguments))}},await:function(t){return new n(t)}}}(),Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n}),an=function(n){if(Array.isArray(n)){for(var t=0,e=Array(n.length);t<n.length;t++)e[t]=n[t];return e}return Array.from(n)},sn=["push","splice","unshift"],ln={bubbles:!0,cancelable:!0},dn=["zIndex","z-index","zoom","font-weight","lineHeight","line-height","counterReset","counter-reset","counterIncrement","counter-increment","volume","stress","pitchRange","pitch-range","richness","opacity"],hn={forEach:n,forElements:r,forIn:i,getElement:o,getElements:e,isDomElement:t,addClass:f,append:h,children:p,clone:y,closest:g,createElement:d,filter:m,find:w,findOne:b,getAttr:S,getData:x,getHtml:A,getProp:v,hasClass:L,indexInParent:O,insertAfter:C,insertBefore:k,next:E,parent:M,prev:j,remove:z,removeAttr:N,removeClass:_,removeData:P,setAttr:l,setData:s,setHtml:T,setProp:a,toggleClass:q,bind:D,on:B,once:R,ready:W,trigger:F,clearStyle:G,getHeight:J,getSize:X,getStyle:Y,getWidth:V,hide:K,offset:Q,position:U,screenPosition:$,setHeight:nn,setSize:tn,setStyle:Z,setWidth:en,show:rn,transform:un};return hn});