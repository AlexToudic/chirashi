/*!
 * Chirashi.js v4.0.0
 * (c) 2016 Alex Toudic
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("raf")):"function"==typeof define&&define.amd?define(["raf"],t):e.Chirashi=t(e.raf)}(this,function(e){"use strict";function t(e){return[].slice.call(document.querySelectorAll(e))}function n(e){return e instanceof HTMLElement||e===window||e===document||e instanceof SVGElement}function o(e){return document.querySelector(e)}function r(e){return"string"==typeof e?o(e):e instanceof Array?r(e[0]):n(e)?e:null}function i(e,t){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];if(e){if(e instanceof Array||e instanceof NodeList||e instanceof HTMLCollection)if(n)for(var o=-1,r=e.length;++o<r;)t(e[o],o);else for(var i=e.length;i--;)t(e[i],i);else t(e,0);return e}}function a(e){if("string"==typeof e)return t(e);if(e instanceof Array){var o=function(){var t=[];return i(e,function(e){var n=a(e);n&&(t=t.concat(n))}),{v:t}}();if("object"==typeof o)return o.v}return e instanceof NodeList?[].slice.call(e):n(e)?[e]:null}function s(e,t){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];return i(a(e),t,n)}function u(e,t){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];if("object"==typeof e){var o=Object.keys(e);if(n)for(var r=-1,i=o.length;++r<i;){var a=o[r];t(a,e[a])}else for(var s=o.length;s--;){var u=o[s];t(u,e[u])}return e}}function c(e,t){return t=t.split(" "),s(e,function(e){if(e.classList)for(var n=t.length;n--;)e.classList.add(t[n])})}function l(e){-1==e.indexOf("<")&&(e="<"+e+"></"+e+">");var t=document.createElement("div");return t.innerHTML=e,t.firstChild}function f(e,t){if("string"==typeof t)t=l(t);else if(!n(t))return e;return s(e,function(e){e.appendChild&&e.appendChild(t)})}function d(e,t){var n=Object.keys(t);return s(e,function(e){if(e.setAttribute)for(var o=n.length,r=void 0,i=void 0;o--;)r=n[o],i=t[r],i?e.setAttribute(r,i):e.removeAttribute(name)})}function m(e,t){return e=r(e),e&&e.getAttribute&&e.getAttribute(t)}function v(e,t){return"object"==typeof t?d(e,t):m(e,t)}function p(e){return e=r(e),e&&e.cloneNode(!0)}function g(e,t,n){return n&&"undefined"!=typeof n.value&&++n.value,e=r(e),e&&e!==window&&e!==document?"string"==typeof t&&e.matches(t)||e==t?e:g(e.parentNode,t,n):!1}function y(e,t){var n=Object.keys(t);return s(e,function(e){if(e.setAttribute)for(var o=n.length,r=void 0;o--;)r=n[o],value=t[r],value?e.setAttribute("data-"+r,value):e.removeAttribute(name)})}function h(e,t){return m(e,"data-"+t)}function w(e,t){return"object"==typeof t?y(e,t):h(e,t)}function b(e,t){return s(e,function(e){e.innerHTML=t})}function k(e){return b(e,"")}function L(e,t){var n=[];return s(e,function(e){e&&e!==window&&e!==document&&("string"==typeof t&&e.matches(t)||e==t)&&n.push(e)}),n}function E(e,t){return e=r(e),e&&e.querySelector(t)}function C(e,t){return e=r(e),e?[].slice.call(e.querySelectorAll(t)):[]}function x(e){return e=r(e),e&&e.innerHTML}function A(e,t){return e=r(e),e&&e[t]}function j(e,t){if(e=r(e),e&&e.classList){t=t.split(" ");for(var n=t.length,o=!1;n--&&(o=e.classList.contains(t[n])););return o}}function M(e,t){return"string"==typeof t?b(e,t):x(e)}function O(e){if(e=r(e)){for(var t=e,n=e.parentNode,o=0;t.previousElementSibling;)++o,t=t.previousElementSibling;return e===n.children[o]?o:-1}}function S(e,t){return"string"==typeof t&&(t=l(t)),s(e,function(e){e.parentNode&&e.parentNode.insertBefore(t,e.nextElementSibling)})}function z(e,t){return"string"==typeof t&&(t=l(t)),s(e,function(e){e.parentNode&&e.parentNode.insertBefore(t,e)})}function Y(e){return(e=r(e))?e.nextElementSibling:void 0}function N(e){return e=r(e),e&&e.parentNode}function X(e){return e=r(e),e&&e.previousElementSibling}function T(e,t){var n=Object.keys(t);return s(e,function(e){for(var o=n.length,r=void 0;o--;)r=n[o],e[r]=t[r]})}function H(e,t){return"object"==typeof t?T(e,t):A(e,t)}function P(e,t){return t=t.split(" "),s(e,function(e){if(e.classList)for(var n=t.length;n--;)e.classList.remove(t[n])})}function D(e){return s(e,function(e){e.parentNode&&e.parentNode.removeChild(e)})}function W(e,t){return t=t.split(" "),s(e,function(e){if(e.classList)for(var n=t.length;n--;)e.classList.toggle(t[n])})}function q(e,t,n){t=t.split(" "),s(e,function(e){if(e.addEventListener)for(var o=t.length;o--;)e.addEventListener(t[o],n)})}function B(e,t,n,o){var r=[];return s(e,function(e){var r=!1,i={element:e,begin:function(e){e.preventDefault(),e.stopPropagation(),"touches"in e&&e.touches.length&&(e=e.touches[0]),r=!0,n&&n({x:e.pageX,y:e.pageY})},move:function(e){r&&(e.preventDefault(),e.stopPropagation(),"touches"in e&&e.touches.length&&(e=e.touches[0]),t&&t({x:e.pageX,y:e.pageY}))},end:function(e){r&&(e.preventDefault(),e.stopPropagation(),"touches"in e&&e.touches.length&&(e=e.touches[0]),r=!1,o&&o({x:e.pageX,y:e.pageY}))}};q(e,"touchstart mousedown",i.begin),q(document.body,"touchmove mousemove",i.move),q(document.body,"touchend mouseup",i.end)}),r}function I(e,t,n){s(e,function(e){t&&q(e,"mouseenter",t),n&&q(e,"mouseleave",n)})}function Z(e,t,n){t=t.split(" "),s(e,function(e){if(e.removeEventListener)for(var o=t.length;o--;)e.removeEventListener(t[o],n)})}function V(e,t,n){if(e=a(e),!e||0==e.length)return void(n&&n());var o={value:e.length},r=function(e,i,a){e&&(i=e.target,"error"==e.type&&(a=e)),Z(i,"load loadedmetadata error",r),t&&t(i,a),!--o.value&&n&&n()};i(e,function(e){"IMG"!=e.tagName||e.src?e.naturalWidth||e.loadedmetadata?r(null,e,null):q(e,"load loadedmetadata error",r):r(null,e,"image without src")})}function G(e){document.addEventListener("DOMContentLoaded",e)}function R(t){var n=void 0,o=function(){e.cancel(n),n=e(function(){t({width:window.innerWidth,height:window.innerHeight})})};return q(window,"resize",o),o}function U(e){var t=function(t){var n=void 0;"undefined"!=typeof t.deltaY?n=-t.deltaY:"undefined"!=typeof t.delta?n=t.delta:"undefined"!=typeof t.detail&&(n=-t.detail),e({top:n},{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft},t)};return q(window,"scroll",t),t}function F(e,t,n){t=t.split(" ");for(var o=t.length,r=function(){var r=t[o];window.CustomEvent?r=new CustomEvent(r,{detail:n}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(r,!0,!0,n)),s(e,function(e){e.dispatchEvent&&e.dispatchEvent(r)})};o--;)r()}function J(e){i(e,function(e){Z(e.element,"touchstart, mousedown",e.begin),Z(document.body,"touchmove, mousemove",e.move),Z(document.body,"touchend, mouseup",e.end)})}function K(e,t,n){s(e,function(e){t&&Z(e,"mouseenter",t),n&&Z(e,"mouseleave",n)})}function Q(e){Z(window,"resize",e)}function $(e){Z(window,"scroll mousewheel DOMMouseScroll",e)}function _(e){e.value=!1}function ee(e,t,n){function o(){r.value&&(forEach(i,function(e){var t=A(e.element,e.prop);e.value!=t&&n.call(e.element,e.prop,t)}),requestAnimationFrame(o))}var r={value:!0},i=[];return s(e,function(e){i.push({element:e,prop:t,value:A(e,t)})}),o(),r}function te(){var e=navigator.userAgent.toLowerCase();return/android/i.test(e)&&!/mobile/i.test(e)}function ne(){return/android/i.test(navigator.userAgent.toLowerCase())}function oe(){var e=navigator.userAgent.toLowerCase(),t=navigator.vendor&&navigator.vendor.toLowerCase();return/chrome|chromium/i.test(e)&&/google inc/.test(t)}function re(){return/firefox/i.test(navigator.userAgent.toLowerCase())}function ie(e){var t=navigator.userAgent.toLowerCase(),n=-1!=t.indexOf("msie")?parseInt(t.split("msie")[1],10):!1;return e?n==e:n}function ae(){return/iphone|ipad|ipod/i.test(navigator.userAgent.toLowerCase())}function se(){return/ipad/i.test(navigator.userAgent.toLowerCase())}function ue(){return/iphone/i.test(navigator.userAgent.toLowerCase())}function ce(){return/ipod/i.test(navigator.userAgent.toLowerCase())}function le(){var e="navigator"in window&&"appVersion"in navigator&&navigator.appVersion.toLowerCase()||"";return/win/i.test(e)}function fe(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}function de(){return ae()||ne()||le()&&fe()}function me(){var e=navigator.userAgent.toLowerCase(),t=navigator.vendor&&navigator.vendor.toLowerCase();return/safari/i.test(e)&&/apple computer/.test(t)}function ve(){var e=navigator.userAgent.toLowerCase();return le()&&/phone/i.test(e)}function pe(){navigator.userAgent.toLowerCase(),navigator.vendor&&navigator.vendor.toLowerCase();return le()&&!ve()&&fe()}function ge(){return se()||te()||pe()}function ye(e){return window.innerWidth>e}function he(e){return e=r(e),e&&e.offsetHeight}function we(e){return e=r(e),e&&e.offsetWidth}function be(e){return e=r(e),e&&{width:e.offsetWidth,height:e.offsetHeight}}function ke(e,t){if(e=r(e)){var n=getComputedStyle(e)[t];return-1==n.indexOf("px")?n:parseInt(n,10)}}function Le(e,t){"number"==typeof t&&(t+="px"),s(e,function(e){e.style&&(e.style.height=t)})}function Ee(e,t){return"undefined"==typeof t?he(e):void Le(e,t)}function Ce(e){s(e,function(e){e.style&&(e.style.visibility="hidden")})}function xe(e,t,n){switch(e){case"x":n[4]+=t;break;case"y":n[5]+=t;break;case"rotate":var o=Math.cos(t),r=Math.sin(t);n[0]*=o,n[1]+=r,n[2]-=r,n[3]*=o;break;case"scale":n[0]*=t,n[2]*=t;break;case"scaleX":n[0]*=t;break;case"scaleY":n[3]*=t;break;case"skew":Math.tan(t);n[2]+=t,n[1]+=t;break;case"skewX":n[2]+=Math.tan(t);break;case"skewY":n[1]+=Math.tan(t)}}function Ae(e,t){for(var n=Object.keys(t),o=n.length,r=[1,0,0,1,0,0];o--;){var i=n[o],a=t[i];if("object"==typeof a)for(var u=Object.keys(a),c=u.length;c--;){var l=u[c];xe(i+l.toUpperCase(),a[l],r)}else xe(i,a,r)}r="matrix("+r.join(",")+")",s(e,function(e){e.style&&(e.style[Qe+"transform"]=e.style.transform=r)})}function je(e,t,n){switch(e){case"x":n[12]+=t;break;case"y":n[13]+=t;break;case"z":n[14]+=t;break;case"rotate":var o=Math.cos(t),r=Math.sin(t);n[0]*=o,n[1]+=r,n[4]-=r,n[5]*=o;break;case"rotateX":var i=Math.cos(t),a=Math.sin(t);n[5]*=i,n[6]+=a,n[9]-=a,n[10]*=i;break;case"rotateY":var s=Math.cos(t),u=Math.sin(t);n[0]*=s,n[2]-=u,n[8]+=u,n[10]*=s;break;case"rotateZ":var c=Math.cos(t),l=Math.sin(t);n[0]*=c,n[1]+=l,n[4]-=l,n[5]*=c;break;case"scale":n[0]*=t,n[5]*=t;break;case"scaleX":n[0]*=t;break;case"scaleY":n[5]*=t;break;case"scaleZ":n[10]*=t;break;case"skew":Math.tan(t);n[4]+=t,n[1]+=t;break;case"skewX":n[4]+=Math.tan(t);break;case"skewY":n[1]+=Math.tan(t)}}function Me(e,t){for(var n=Object.keys(t),o=n.length,r=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];o--;){var i=n[o],a=t[i];if("object"==typeof a)for(var u=Object.keys(a),c=u.length;c--;){var l=u[c];je(i+l.toUpperCase(),a[l],r)}else je(i,a,r)}r="matrix3d("+r.join(",")+")",s(e,function(e){e.style&&(e.style[$e+"transform"]=e.style.transform=r)})}function Oe(e,t){et?Ae(e,t):Me(e,t)}function Se(e){if(e=r(e)){var t=e.getBoundingClientRect();return{top:t.top+(document.documentElement.scrollTop||document.body.scrollTop),left:t.left+(document.documentElement.scrollLeft||document.body.scrollLeft)}}}function ze(e){return e=r(e),e&&{top:e.offsetTop,left:e.offsetLeft}}function Ye(e,t,n){s(e,function(e){if(e.style){var o="scale("+(t.scaleX||t.scale||1)+","+(t.scaleY||t.scale||1)+")";if(n){var r=e.style[tt+"transform"]||e.style.transform;r+=" "+o,e.style[tt+"transform"]=r,e.style.transform=r}else e.style[tt+"transform"]=e.style.transform=o}})}function Ne(e,t,n){s(e,function(e){if(e.style){var o="scale3d("+(t.scaleX||t.scale||1)+","+(t.scaleY||t.scale||1)+","+(t.scaleZ||1)+")";if(n){var r=e.style[nt+"transform"]||e.style.transform;r+=" "+o,e.style[nt+"transform"]=r,e.style.transform=r}else e.style[nt+"transform"]=e.style.transform=o}})}function Xe(e,t,n){rt?Ye(e,t,n):Ne(e,t,n)}function Te(e){if(e=r(e)){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left}}}function He(e,t){var n=t.width,o=t.height;"number"==typeof n&&(n+="px"),"number"==typeof o&&(o+="px"),s(e,function(e){e.style&&(e.style.width=n,e.style.height=o)})}function Pe(e,t){for(var n=Object.keys(t),o=n.length,r=void 0,i=void 0;o--;)r=n[o],i=t[r],"number"==typeof i&&-1==it.indexOf(r)&&(t[r]+="px");s(e,function(e){if(e.style)for(var o=n.length,r=void 0;o--;)r=n[o],e.style[r]=t[r]})}function De(e,t){"number"==typeof t&&(t+="px"),s(e,function(e){e.style&&(e.style.width=t)})}function We(e){s(e,function(e){e.style&&(e.style.visibility="")})}function qe(e,t){return"object"!=typeof t?be(e):void He(e,t)}function Be(e,t){if("object"==typeof t)Pe(e,t);else if("string"==typeof t)return ke(e,t)}function Ie(e,t,n){s(e,function(e){if(e.style){var o="translate("+t.x||"0px,"+t.y||"0px)";n?(e.style[at+"transform"]+=o,e.style.transform+=o):e.style[at+"transform"]=e.style.transform=o}})}function Ze(e,t,n){s(e,function(e){if(e.style){var o="translate3d("+(t.x||0)+"px,"+(t.y||0)+"px,"+(t.z||0)+"px)";n?(e.style[st+"transform"]+=o,e.style.transform+=o):e.style[st+"transform"]=e.style.transform=o}})}function Ve(e,t,n){ct?Ie(e,t,n):Ze(e,t,n)}function Ge(e,t){if(t.skew||t.skewX||t.skewY||t.rotate||t.rotateX||t.rotateY||t.rotateZ)Oe(e,t);else{var n=!1;(n=t.x||t.y||t.z)&&Ve(e,t),(t.scale||t.scaleX||t.scaleY||t.scaleZ)&&Xe(e,t,n)}}function Re(e,t){return"undefined"==typeof t?we(e):void De(e,t)}function Ue(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return Math.floor(Math.random()*(e-t+1))+t}function Fe(e){if(null==e||"object"!=typeof e)return e;var t=e.constructor();for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Je(e,t){if("undefined"==typeof e||null==e)return t;for(var n=Object.keys(t),o=Fe(e),r=n.length-1;r>=0;--r){var i=n[r];"undefined"==typeof e[i]&&(o[i]=t[i])}return o}function Ke(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return isNaN(e)?n:Math.min(Math.max(e,t),n)}e="default"in e?e["default"]:e;var Qe="-"+(Array.prototype.slice.call(window.getComputedStyle(document.documentElement,"")).join("").match(/-(moz|webkit|ms)-/)||""===styles.OLink&&["","o"])[1]+"-",$e="-"+(Array.prototype.slice.call(window.getComputedStyle(document.documentElement,"")).join("").match(/-(moz|webkit|ms)-/)||""===styles.OLink&&["","o"])[1]+"-",_e="-"+(Array.prototype.slice.call(window.getComputedStyle(document.documentElement,"")).join("").match(/-(moz|webkit|ms)-/)||""===styles.OLink&&["","o"])[1]+"-";document.documentElement.style[_e+"matrix"]="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)";var et=!document.documentElement.style[_e+"matrix"];document.documentElement.style[_e+"matrix"]="";var tt="-"+(Array.prototype.slice.call(window.getComputedStyle(document.documentElement,"")).join("").match(/-(moz|webkit|ms)-/)||""===styles.OLink&&["","o"])[1]+"-",nt="-"+(Array.prototype.slice.call(window.getComputedStyle(document.documentElement,"")).join("").match(/-(moz|webkit|ms)-/)||""===styles.OLink&&["","o"])[1]+"-",ot="-"+(Array.prototype.slice.call(window.getComputedStyle(document.documentElement,"")).join("").match(/-(moz|webkit|ms)-/)||""===styles.OLink&&["","o"])[1]+"-";document.documentElement.style[ot+"transform"]="scale3d(1, 1, 1)";var rt=!document.documentElement.style[ot+"transform"];document.documentElement.style[ot+"transform"]="";var it=["z-index","font-weight","line-height","counter-reset","counter-increment","volume","stress","pitch-range","richness","opacity"],at="-"+(Array.prototype.slice.call(window.getComputedStyle(document.documentElement,"")).join("").match(/-(moz|webkit|ms)-/)||""===styles.OLink&&["","o"])[1]+"-",st="-"+(Array.prototype.slice.call(window.getComputedStyle(document.documentElement,"")).join("").match(/-(moz|webkit|ms)-/)||""===styles.OLink&&["","o"])[1]+"-",ut="-"+(Array.prototype.slice.call(window.getComputedStyle(document.documentElement,"")).join("").match(/-(moz|webkit|ms)-/)||""===styles.OLink&&["","o"])[1]+"-";document.documentElement.style[ut+"transform"]="translate3d(0, 0, 0)";var ct=!document.documentElement.style[ut+"transform"];document.documentElement.style[ut+"transform"]="";var lt={forEach:i,forElements:s,forIn:u,getElement:r,getElements:a,getSelectorAll:t,getSelector:o,isDomElement:n,addClass:c,append:f,attr:v,clone:p,closest:g,createElement:l,data:w,empty:k,filter:L,findOne:E,find:C,getAttr:m,getData:h,getHtml:x,getProp:A,hasClass:j,html:M,indexInParent:O,insertAfter:S,insertBefore:z,next:Y,parent:N,prev:X,prop:H,removeClass:P,remove:D,setAttr:d,setData:y,setHtml:b,setProp:T,toggleClass:W,drag:B,hover:I,load:V,off:Z,on:q,ready:G,resize:R,scroll:U,trigger:F,undrag:J,unhover:K,unresize:Q,unscroll:$,unwatchProp:_,watchProp:ee,androidTablet:te,android:ne,chrome:oe,firefox:re,ie:ie,ios:ae,ipad:se,iphone:ue,ipod:ce,mobile:de,safari:me,tablet:ge,touchable:fe,wider:ye,windowsPhone:ve,windowsTablet:pe,windows:le,getHeight:he,getSize:be,getStyle:ke,getWidth:we,height:Ee,hide:Ce,matrix:Oe,matrix2d:Ae,matrix3d:Me,offset:Se,position:ze,scale:Xe,scale2d:Ye,scale3d:Ne,screenPosition:Te,setHeight:Le,setSize:He,setStyle:Pe,setWidth:De,show:We,size:qe,style:Be,transform:Ge,translate:Ve,translate2d:Ie,translate3d:Ze,width:Re,between:Ue,deepClone:Fe,defaultify:Je,range:Ke};return lt});