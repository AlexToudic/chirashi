/*!
 * Chirashi.js v4.3.0
 * (c) 2016 Alex Toudic
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Chirashi=t()}(this,function(){"use strict";function e(e){return[].slice.call(document.querySelectorAll(e))}function t(e){return e instanceof HTMLElement||e===window||e===document||e instanceof SVGElement||e instanceof Text}function n(e){return document.querySelector(e)}function r(e){return"string"==typeof e?n(e):e instanceof Array?r(e[0]):t(e)?e:null}function o(e,t){var n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];if(e){if(e instanceof Array||e instanceof NodeList||e instanceof HTMLCollection)if(n)for(var r=-1,o=e.length;++r<o;)t(e[r],r);else for(var i=e.length;i--;)t(e[i],i);else t(e,0);return e}}function i(n){if("string"==typeof n)return e(n);if(n instanceof Array){var r=function(){var e=[];return o(n,function(t){var n=i(t);n&&(e=e.concat(n))}),{v:e}}();if("object"===("undefined"==typeof r?"undefined":$e(r)))return r.v}return n instanceof NodeList?[].slice.call(n):t(n)?[n]:null}function a(e,t){var n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];return o(i(e),t,n)}function c(e,t){var n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];if("object"==("undefined"==typeof e?"undefined":$e(e))){var r=Object.keys(e);if(n)for(var o=-1,i=r.length;++o<i;){var a=r[o];t(a,e[a])}else for(var c=r.length;c--;){var s=r[c];t(s,e[s])}return e}}function s(e,t){return t=t.split(" "),a(e,function(e){if(e.classList)for(var n=t.length;n--;)e.classList.add(t[n])})}function u(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n="";c(t,function(e,t){n+=" "+e+'="'+t+'"'}),e.indexOf("<")==-1&&(e="<"+e+n+"></"+e+">");var r=document.createElement("div");return r.innerHTML=e,r.firstChild}function f(e,n){var r=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],i=[];return o(n,function(e,n){"string"==typeof e&&(e=u(e,r[n]||{})),t(e)&&i.push(e)}),a(e,function(e,t){e.appendChild&&o(i,function(t){e.appendChild(t)})})}function l(e,t){var n=Object.keys(t);return a(e,function(e){if(e.setAttribute)for(var r=n.length,o=void 0,i=void 0;r--;)o=n[r],i=t[o],i?e.setAttribute(o,i):e.removeAttribute(name)})}function d(e,t){return e=r(e),!!e&&e.getAttribute&&e.getAttribute(t)}function v(e,t){return"object"==("undefined"==typeof t?"undefined":$e(t))?l(e,t):d(e,t)}function p(e){return e=r(e),!!e&&e.cloneNode(!0)}function m(e,t,n){return n&&"undefined"!=typeof n.value&&++n.value,e=r(e),!(!e||e===window||e===document)&&("string"==typeof t&&e.matches(t)||e==t?e:m(e.parentNode,t,n))}function h(e,t){var n=Object.keys(t);return a(e,function(e){if(e.setAttribute)for(var r=n.length,o=void 0;r--;)o=n[r],value=t[o],value?e.setAttribute("data-"+o,value):e.removeAttribute(name)})}function y(e,t){return d(e,"data-"+t)}function g(e,t){return"object"==("undefined"==typeof t?"undefined":$e(t))?h(e,t):y(e,t)}function b(e,t){return a(e,function(e){e.innerHTML=t})}function w(e){return b(e,"")}function k(e,t){var n=[];return a(e,function(e){e&&e!==window&&e!==document&&("string"==typeof t&&e.matches(t)||e==t)&&n.push(e)}),n}function x(e,t){var n=[];return a(e,function(e){n=n.concat([].slice.call(e.querySelectorAll(t)))}),n}function E(e,t){return e=r(e),!!e&&e.querySelector(t)}function S(e){return e=r(e),!!e&&e.innerHTML}function L(e,t){return e=r(e),!!e&&e[t]}function M(e,t){if(e=r(e),e&&e.classList){t=t.split(" ");for(var n=t.length,o=!1;n--&&(o=e.classList.contains(t[n])););return o}}function j(e,t){return"string"==typeof t?b(e,t):S(e)}function C(e){if(e=r(e)){for(var t=e,n=e.parentNode,o=0;t.previousElementSibling;)++o,t=t.previousElementSibling;return e===n.children[o]?o:-1}}function A(e,t){var n=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],r=[];return forEach(t,function(e,t){"string"==typeof e&&(e=u(e,n[t]||{})),isDomElement(e)&&r.push(e)}),a(e,function(e,t){e.parentNode&&e.parentNode.insertBefore&&forEach(r,function(t){e.parentNode.insertBefore(t,e.nextElementSibling)})})}function D(e,t){var n=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],r=[];return o(t,function(e,t){"string"==typeof e&&(e=u(e,n[t]||{})),isDomElement(e)&&r.push(e)}),a(e,function(e,t){e.parentNode&&e.parentNode.insertBefore&&o(r,function(t){e.parentNode.insertBefore(t,e)})})}function O(e){if(e=r(e))return e.nextElementSibling}function T(e){return e=r(e),!!e&&e.parentNode}function _(e){return e=r(e),!!e&&e.previousElementSibling}function N(e,t){return a(e,function(e){return Objec.assign(e,t)})}function X(e,t){return"object"==("undefined"==typeof t?"undefined":$e(t))?N(e,t):L(e,t)}function Y(e){return a(e,function(e){e.parentNode&&e.parentNode.removeChild(e)})}function P(e,t){return t=t.split(" "),a(e,function(e){if(e.classList)for(var n=t.length;n--;)e.classList.remove(t[n])})}function z(e,t){return t=t.split(" "),a(e,function(e){if(e.classList)for(var n=t.length;n--;)e.classList.toggle(t[n])})}function H(e,t,n){return t=t.split(" "),a(e,function(e){if(e.addEventListener)for(var r=t.length,o=(function(){var o=t[r];"_cs-events"in e||(e["_cs-events"]={}),o in e["_cs-events"]||(e["_cs-callback"]=function(t){for(var n=e["_cs-events"][o],r=n.length,i=function(){var e=n[r];setTimeout(function(){e(t)})};r--;)i()},e.addEventListener(o,e["_cs-callback"]),e["_cs-events"][o]=[]),e["_cs-events"][o].push(n)});r--;)o()})}function I(e,t,n,r){var o=[];return a(e,function(e){var i=!1,a={element:e,begin:function(e){e.preventDefault(),e.stopPropagation(),"touches"in e&&e.touches.length&&(e=e.touches[0]),i=!0,n&&n({x:e.pageX,y:e.pageY})},move:function(e){i&&(e.preventDefault(),e.stopPropagation(),"touches"in e&&e.touches.length&&(e=e.touches[0]),t&&t({x:e.pageX,y:e.pageY}))},end:function(e){i&&(e.preventDefault(),e.stopPropagation(),"touches"in e&&e.touches.length&&(e=e.touches[0]),i=!1,r&&r({x:e.pageX,y:e.pageY}))}};H(e,"touchstart mousedown",a.begin),H(document.body,"touchmove mousemove",a.move),H(document.body,"touchend mouseup",a.end),o.push(a)}),{off:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){forEach(o,function(e){off(e.element,"touchstart, mousedown",e.begin),off(document.body,"touchmove, mousemove",e.move),off(document.body,"touchend, mouseup",e.end)})})}}function B(e,t,n){return a(e,function(e){t&&H(e,"mouseenter",t),n&&H(e,"mouseleave",n)}),{off:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){a(e,function(e){t&&off(e,"mouseenter",t),n&&off(e,"mouseleave",n)})})}}function W(e,t){if(e.removeEventListener&&"_cs-events"in e){t=t?t.split(" "):Object.keys(e["_cs-events"]);for(var n=t.length;n--;){var r=t[n];r in e["_cs-events"]&&Z(e,r)}}}function Z(e,t){e.removeEventListener(t,e["_cs-callback"]),delete e["_cs-events"][t]}function q(e,t,n){var r=void 0;return t&&n?(t=t.split(" "),r=function(e){if(e.removeEventListener&&"_cs-events"in e)for(var r=t.length;r--;){var o=t[r];o in e["_cs-events"]&&(e["_cs-events"][o].splice(e["_cs-events"][o].indexOf(n),1),e["_cs-events"][o].length||Z(e,o))}}):r=function(e){W(e,t)},a(e,r)}function R(e,t,n){var r=arguments.length<=3||void 0===arguments[3]||arguments[3],a=arguments.length<=4||void 0===arguments[4]||arguments[4];if(e=i(e),!e||0==e.length)return void(n&&n());var c={value:e.length};return callback=function(e){function t(t,n,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,o,i){e&&(o=e.target,"error"==e.type&&(i=e)),r&&q(o,"load loadedmetadata error",callback),t&&t(o,i),!--c.value&&n&&n()}),o(e,function(e){a&&!e.src?callback(null,e,"image without src"):e.naturalWidth||e.loadedmetadata?callback(null,e,null):H(e,"load loadedmetadata error",callback)}),{off:function(){o(e,function(e){return q(e,"load loadedmetadata error",callback)})}}}function V(e){H(document,"DOMContentLoaded",e)}function U(e,t,n){t=t.split(" ");var r=t.length;e=i(e);for(var o=function(){var o=t[r];window.CustomEvent?o=new CustomEvent(o,{detail:n}):(o=document.createEvent("CustomEvent"),o.initCustomEvent(o,!0,!0,n)),forEach(e,function(e){e.dispatchEvent&&e.dispatchEvent(o)})};r--;)o();return e}function F(e){return e=r(e),!!e&&e.offsetHeight}function G(e){return e=r(e),!!e&&{width:e.offsetWidth,height:e.offsetHeight}}function J(e,t){if(e=r(e)){var n=getComputedStyle(e)[t];return n.indexOf("px")==-1?n:parseInt(n,10)}}function K(e){return e=r(e),!!e&&e.offsetWidth}function Q(e,t){return"number"==typeof t&&(t+="px"),a(e,function(e){e.style&&(e.style.height=t)})}function $(e,t){return"undefined"!=typeof t?Q(e,t):F(e)}function ee(e){return a(e,function(e){e.style&&(e.style.visibility="hidden")})}function te(e,t,n){switch(e){case"x":n[4]+=t;break;case"y":n[5]+=t;break;case"rotate":var r=Math.cos(t),o=Math.sin(t);n[0]*=r,n[1]+=o,n[2]-=o,n[3]*=r;break;case"scale":n[0]*=t,n[2]*=t;break;case"scaleX":n[0]*=t;break;case"scaleY":n[3]*=t;break;case"skew":var i=Math.tan(t);n[2]+=i,n[1]+=i;break;case"skewX":n[2]+=Math.tan(t);break;case"skewY":n[1]+=Math.tan(t)}}function ne(e){for(var t=Object.keys(e),n=t.length,r=[1,0,0,1,0,0];n--;){var o=t[n],i=e[o];if("object"==("undefined"==typeof i?"undefined":$e(i)))for(var a=Object.keys(i),c=a.length;c--;){var s=a[c];te(o+s.toUpperCase(),i[s],r)}else te(o,i,r)}return r}function re(e,t){var n=ne(t);return n="matrix("+n.join(",")+")",a(e,function(e){e.style&&(e.style[Ke+"transform"]=n,e.style.transform=n)})}function oe(e,t,n){switch(e){case"x":n[12]+=t;break;case"y":n[13]+=t;break;case"z":n[14]+=t;break;case"rotate":var r=Math.cos(t),o=Math.sin(t);n[0]*=r,n[1]+=o,n[4]-=o,n[5]*=r;break;case"rotateX":var i=Math.cos(t),a=Math.sin(t);n[5]*=i,n[6]+=a,n[9]-=a,n[10]*=i;break;case"rotateY":var c=Math.cos(t),s=Math.sin(t);n[0]*=c,n[2]-=s,n[8]+=s,n[10]*=c;break;case"rotateZ":var u=Math.cos(t),f=Math.sin(t);n[0]*=u,n[1]+=f,n[4]-=f,n[5]*=u;break;case"scale":n[0]*=t,n[5]*=t;break;case"scaleX":n[0]*=t;break;case"scaleY":n[5]*=t;break;case"scaleZ":n[10]*=t;break;case"skew":var l=Math.tan(t);n[4]+=l,n[1]+=l;break;case"skewX":n[4]+=Math.tan(t);break;case"skewY":n[1]+=Math.tan(t)}}function ie(e){for(var t=Object.keys(e),n=t.length,r=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];n--;){var o=t[n],i=e[o];if("object"==("undefined"==typeof i?"undefined":$e(i)))for(var a=Object.keys(i),c=a.length;c--;){var s=a[c];oe(o+s.toUpperCase(),i[s],r)}else oe(o,i,r)}return r}function ae(e,t){var n=ie(t);return n="matrix3D("+n.join(",")+")",a(e,function(e){e.style&&(e.style[Ke+"transform"]=n,e.style.transform=n)})}function ce(e,t){return Qe?ae(e,t):re(e,t)}function se(e){if(e=r(e),!e)return!1;var t=e.getBoundingClientRect();return{top:t.top+(document.documentElement.scrollTop||document.body.scrollTop),left:t.left+(document.documentElement.scrollLeft||document.body.scrollLeft)}}function ue(e){return e=r(e),!!e&&{top:e.offsetTop,left:e.offsetLeft}}function fe(e,t,n){var r="scaleX"in t?t.scaleX:"scale"in t?t.scale:1,o="scaleY"in t?t.scaleY:"scale"in t?t.scale:1,i="scale("+r+","+o+")";return a(e,function(e){e.style&&(n?(e.style[Ke+"transform"]+=" "+i,e.style.transform+=" "+i):(e.style[Ke+"transform"]=i,e.style.transform=i))})}function le(e,t,n){var r="scaleX"in t?t.scaleX:"scale"in t?t.scale:1,o="scaleY"in t?t.scaleY:"scale"in t?t.scale:1,i="scaleZ"in t?t.scaleZ:1,c="scale3D("+r+","+o+","+i+")";return a(e,function(e){e.style&&(n?(e.style[Ke+"transform"]+=" "+c,e.style.transform+=" "+c):(e.style[Ke+"transform"]=c,e.style.transform=c))})}function de(e,t,n){return Qe?le(e,t,n):fe(e,t,n)}function ve(e){return e=r(e),!!e&&e.getBoundingClientRect()}function pe(e,t){return"number"==typeof t.width&&(t.width+="px"),"number"==typeof t.height&&(t.height+="px"),a(e,function(e){e.style&&Object.assign(e.style,t)})}function me(e,t){for(var n=Object.keys(t),r=n.length;r--;){var o=n[r];if(et.indexOf(o.replace(/-/g," ").toLowerCase())==-1){var i=t[o];"number"==typeof i&&(t[o]+="px")}}return a(e,function(e){e.style&&Object.assign(e.style,t)})}function he(e,t){return"number"==typeof t&&(t+="px"),a(e,function(e){e.style&&(e.style.width=t)})}function ye(e){return a(e,function(e){e.style&&(e.style.visibility="")})}function ge(e,t){return"object"!=("undefined"==typeof t?"undefined":$e(t))?G(e):pe(e,t)}function be(e,t){return"object"==("undefined"==typeof t?"undefined":$e(t))?me(e,t):"string"==typeof t?J(e,t):void 0}function we(e,t,n){var r="x"in t?t.x:0,o="y"in t?t.y:0;"number"==typeof r&&(r+="px"),"number"==typeof o&&(o+="px");var i="translate("+r+","+o+")";return a(e,function(e){e.style&&(n?(e.style[Ke+"transform"]+=" "+i,e.style.transform+=" "+i):(e.style[Ke+"transform"]=i,e.style.transform=i))})}function ke(e,t,n){var r="x"in t?t.x:0,o="y"in t?t.y:0,i="z"in t?t.z:0;"number"==typeof r&&(r+="px"),"number"==typeof o&&(o+="px"),"number"==typeof i&&(i+="px");var c="translate3D("+r+","+o+","+i+")";return a(e,function(e){e.style&&(n?(e.style[Ke+"transform"]+=" "+c,e.style.transform+=" "+c):(e.style[Ke+"transform"]=c,e.style.transform=c))})}function xe(e,t,n){return Qe?ke(e,t,n):we(e,t,n)}function Ee(e,t){if("skew"in t||"skewX"in t||"skewY"in t||"rotate"in t||"rotateX"in t||"rotateY"in t||"rotateZ"in t)return ce(e,t);var n=!1;return(n="x"in t||"y"in t||"z"in t)?xe(e,t):"scale"in t||"scaleX"in t||"scaleY"in t||"scaleZ"in t?de(e,t,n):void 0}function Se(e,t){return"undefined"!=typeof t?he(e,t):K(e)}function Le(e,t){var n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],r=n,o=void 0,i=function(){r=!1,e.call.apply(e,[this].concat(Array.prototype.slice.call(arguments))),o=setTimeout(function(){r=n},t)},a=function c(){clearTimeout(o),r?i.call.apply(i,[this].concat(Array.prototype.slice.call(arguments))):o=setTimeout(i.bind(this,arguments),t),c.cancel=function(){clearTimeout(o),r=!0,o=null}};return a}function Me(e){if(null==e||"object"!==("undefined"==typeof e?"undefined":$e(e)))return e;var t=e.constructor();for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function je(e,t){return Object.assign(e,t)}function Ce(e){var t={};return function(){var n=JSON.stringify(arguments);return n in t?t[n]:t[n]=e.call.apply(e,[this].concat(Array.prototype.slice.call(arguments)))}}function Ae(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return Math.random()*(e-t+1)+t}function De(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return~~(Math.random()*(e-t+1))+t}function Oe(e){var t=arguments.length<=1||void 0===arguments[1]?1:arguments[1],n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];return isNaN(e)?t:Math.min(Math.max(e,n),t)}function Te(e,t){var n=arguments.length<=2||void 0===arguments[2]||arguments[2],r=arguments.length<=3||void 0===arguments[3]||arguments[3],o=0,i=void 0,a=function(){i=null,o=n?performance.now():0,e.call.apply(e,[this].concat(Array.prototype.slice.call(arguments)))},c=function s(){var e=performance.now();o||n||(o=e);var c=t-(e-o);c<0||c>t?a.call.apply(a,[this].concat(Array.prototype.slice.call(arguments))):r&&!i&&(i=setTimeout(a.bind(this,arguments),c)),s.cancel=function(){clearTimeout(i),o=0,i=null}};return c}var _e=navigator.userAgent.toLowerCase(),Ne=/android/i.test(_e),Xe=Ne&&!/mobile/i.test(_e),Ye=navigator.vendor&&navigator.vendor.toLowerCase(),Pe=/chrome|chromium/i.test(_e)&&/google inc/.test(Ye),ze=/firefox/i.test(_e),He=_e.indexOf("msie")!=-1&&parseInt(_e.split("msie")[1],10),Ie=/iphone|ipad|ipod/i.test(_e),Be=/ipad/i.test(_e),We=/iphone/i.test(_e),Ze=/ipod/i.test(_e),qe=/win/i.test("navigator"in window&&"appVersion"in window.navigator&&window.navigator.appVersion.toLowerCase()||""),Re=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),Ve=Ie||Ne||qe&&Re,Ue=/safari/i.test(_e)&&/apple computer/.test(Ye),Fe=qe&&/phone/i.test(_e),Ge=qe&&!Fe&&Re,Je=Be||Xe||Ge,Ke=(Array.prototype.slice.call(window.getComputedStyle(document.documentElement,"")).join("").match(/-(moz|webkit|ms)-/)||""===styles.OLink&&["","o"])[1];document.documentElement.style[Ke+"matrix"]="matrix3D(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)";var Qe=document.documentElement.style[Ke+"matrix"];document.documentElement.style[Ke+"matrix"]="";var $e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},et=["zindex","zoom","fontweight","lineheight","counterreset","counterincrement","volume","stress","pitchRange","richness","opacity"],tt={isAndroid:Ne,isAndroidTablet:Xe,isChrome:Pe,isFirefox:ze,isIE:He,isIOS:Ie,isIPad:Be,isIPhone:We,isIPod:Ze,isMobile:Ve,isSafari:Ue,isTablet:Je,isTouchable:Re,isWindows:qe,isWindowsPhone:Fe,isWindowsTablet:Ge,prefix:Ke,support3D:Qe,ua:_e,vendor:Ye,forEach:o,forElements:a,forIn:c,getElement:r,getElements:i,getSelector:n,getSelectorAll:e,isDomElement:t,addClass:s,append:f,attr:v,clone:p,closest:m,createElement:u,data:g,empty:w,filter:k,find:x,findOne:E,getAttr:d,getData:y,getHtml:S,getProp:L,hasClass:M,html:j,indexInParent:C,insertAfter:A,insertBefore:D,next:O,parent:T,prev:_,prop:X,remove:Y,removeClass:P,setAttr:l,setData:h,setHtml:b,setProp:N,toggleClass:z,drag:I,hover:B,load:R,off:q,on:H,ready:V,trigger:U,getHeight:F,getSize:G,getStyle:J,getWidth:K,height:$,hide:ee,matrix:ce,matrix2D:re,matrix3D:ae,offset:se,position:ue,scale:de,scale2D:fe,scale3D:le,screenPosition:ve,setHeight:Q,setSize:pe,setStyle:me,setWidth:he,show:ye,size:ge,style:be,transform:Ee,translate:xe,translate2D:we,translate3D:ke,width:Se,debounce:Le,deepClone:Me,defaultify:je,memoize:Ce,randomBetween:Ae,randomIntBetween:De,range:Oe,throttle:Te,transformTo2DMatrix:ne,transformTo3DMatrix:ie};return tt});